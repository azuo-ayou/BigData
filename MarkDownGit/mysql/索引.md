### 概念

**聚簇索引**：聚簇索引节点只包含索引，叶子结点包含所有的数据，聚簇索引“就是表”，因此可以不需要独立的行存储。

**二级索引**：叶子结点中保存不是行对应的数据地址，而是主键值，索引要根据这个主键值去聚簇索引中查询数据，会经历两次的B+Tree查询

### 分类

**普通索引**：就是简单的索引，为了加速查询，没有其他的限制

**唯一索引**：在普通索引的基础山，要求索引列不允许有重复值，但是可以有空值，如果是联合索引，那么联合的值必须唯一

**主键索引**：不允许有空值，不允许有重复，一个表只能有一个主键索引

**组合索引**：用多个列创建索引（最左前缀原则）

```mysql
ALTER TABLE mytable ADD INDEX name_city_age (name(10),city,age);

// 建立这样的组合索引，其实是相当于分别建立了下面三组组合索引：

usernname,city,age

usernname,city

usernname

下面的几个SQL就会用到这个组合索引：

SELECT * FROM mytable WHREE username="admin" AND city="郑州"

SELECT * FROM mytable WHREE username="admin"

而下面几个则不会用到：

SELECT * FROM mytable WHREE age=20 AND city="郑州"

SELECT * FROM mytable WHREE city="郑州"
```



### **索引设计：**

1、索引字段尽量使用数字型（简单的数据类型）

若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了

2、尽量不要让字段的默认值为NULL：null大大增加了索引统计和计算比较，如果可能设置为0或者一个特殊的值

3、前缀索引和索引选择性：若果字符串很长可以选择部分建立索引，比如一个字段长度为100，那么选择前10-15其实可能已经将范围缩小的很小了